<div class="pagination">
    {% if page > 1 %}
    <a href="?page={{ page|add:'-1' }}&per_page={{ per_page }}">⟵ Пред</a>
    {% endif %}

    {% if page > 3 %}
        <a href="?page=1&per_page={{ per_page }}">1</a>
        <span>...</span>
    {% endif %}

    {% for i in all_pages %}
        {% if i == page %}
            <span class="active">{{ i }}</span>  <!-- Текущая страница с активным классом -->
        {% elif i > page|add:'-3' and i < page|add:'3' %}
            <a href="?page={{ i }}&per_page={{ per_page }}">{{ i }}</a>
        {% endif %}
    {% endfor %}

    {% if page < total_pages|add:'-3' %}
        <span>...</span>
        <a href="?page={{ total_pages }}&per_page={{ per_page }}">{{ total_pages }}</a>
    {% endif %}

    {% if page < total_pages %}
    <a href="?page={{ page|add:'1' }}&per_page={{ per_page }}">След ⟶</a>
    {% endif %}
</div>

<style>
    .pagination {
    margin-top: 70px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #555555;
    gap: 12px;
}

.pagination a {
    text-decoration: none;
    color: #555555; /* Серый цвет для ссылок */
    padding: 6px 6px;
    border-radius: 5px;
}

.pagination a:hover {
    background-color: #f0f0f0; /* Подсветка при наведении */
}

.pagination .active {
    background-color: #EA424C;  /* Красный фон для активной страницы */
    color: white;           /* Белый текст для активной страницы */
    padding: 6px 6px;
    
    border-radius: 5px;
}
</style>